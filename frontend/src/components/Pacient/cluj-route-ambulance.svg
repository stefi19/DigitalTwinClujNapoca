<!-- File 3 – Cluj Route + Traffic Lights + Ambulance (1440×900, Montserrat, vibrant blue, browser-animated) -->
<svg id="Cluj-Route-TrafficLights-Ambulance" width="1440" height="900" viewBox="0 0 1440 900"
     xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
  <defs>
    <linearGradient id="bgBlue" x1="0" y1="0" x2="1" y2="1">
      <stop offset="0%" stop-color="#0EA5FF"/>
      <stop offset="100%" stop-color="#3B82F6"/>
    </linearGradient>

    <filter id="softGlow" x="-20%" y="-20%" width="140%" height="140%">
      <feGaussianBlur stdDeviation="6"/>
    </filter>

    <!-- Route path -->
    <path id="routePath" d="M200 820 C 320 740, 420 680, 520 640 S 740 580, 820 560 S 960 520, 1040 480"/>

    <style>
      @font-face { font-family: 'Montserrat'; src: local('Montserrat'); }
      .ui { font-family:'Montserrat', Arial, sans-serif; }
      .grid { stroke:#E2EEFC; stroke-width:12; stroke-linecap:round; fill:none; }
      .minor { stroke:#CCE1FB; stroke-width:8; stroke-linecap:round; fill:none; }
      .primary { stroke:#1D4ED8; stroke-width:16; opacity:.22; fill:none; }
      .route { stroke:#60A5FA; stroke-width:10; stroke-linecap:round; fill:none; stroke-dasharray:18 12; }
      .poi { fill:#FFFFFF; stroke:#93C5FD; stroke-width:2; }
      .poi-label { font-size:18px; fill:#1E3A8A; }
      .chip { fill:#1D4ED8; }
      .chip-sub { fill:#DBEAFE; font-size:18px; }
    </style>
  </defs>

  <!-- Background card -->
  <rect width="1440" height="900" fill="url(#bgBlue)"/>
  <rect x="24" y="24" width="1392" height="852" rx="28" fill="#EFF6FF" opacity="0.85"/>

  <!-- Street grid (stylized Cluj center) -->
  <g class="ui">
    <path class="grid" d="M160 120 L420 160 L760 140 L1120 180"/>
    <path class="grid" d="M120 320 L480 300 L780 380 L1100 360 L1300 420"/>
    <path class="grid" d="M140 500 L520 460 L900 500 L1220 540"/>
    <path class="grid" d="M220 680 L520 640 L920 660 L1230 680"/>
    <path class="minor" d="M340 160 L320 360 L360 560 L380 760"/>
    <path class="minor" d="M700 140 L720 320 L740 520 L760 740"/>
    <path class="minor" d="M1040 180 L1020 360 L1030 560 L1040 760"/>
  </g>

  <!-- E81 subtle reference -->
  <path class="primary" d="M90 280 L460 260 L780 320 L1180 300"/>
  <text x="740" y="272" class="ui" style="font-size:20px; fill:#1E40AF; opacity:.5">E81</text>

  <!-- Active route (animated dashed line in browsers) -->
  <path id="activeRoute" class="route" d="M200 820 C 320 740, 420 680, 520 640 S 740 580, 820 560 S 960 520, 1040 480">
    <animate attributeName="stroke-dashoffset" from="0" to="-300" dur="12s" fill="freeze"/>
  </path>

  <!-- POIs -->
  <g class="ui">
    <g transform="translate(200,820)">
      <circle r="10" class="poi"/>
      <text x="12" y="6" class="poi-label">Heart Institute</text>
    </g>
    <g transform="translate(600,620)">
      <circle r="10" class="poi"/>
      <text x="12" y="6" class="poi-label">Unirii Square</text>
    </g>
    <g transform="translate(820,560)">
      <circle r="10" class="poi"/>
      <text x="12" y="6" class="poi-label">Babeș-Bolyai University</text>
    </g>
    <g transform="translate(1040,480)">
      <circle r="10" class="poi"/>
      <text x="12" y="6" class="poi-label">Tailors' Bastion</text>
    </g>
  </g>

  <!-- Traffic Lights (switch to green when ambulance is near; browser animation) -->
  <!-- Near Unirii (≈3.2s) -->
  <g id="TL-Unirii" transform="translate(540,640)">
    <rect x="-10" y="-26" width="20" height="52" rx="4" fill="#0F172A" opacity=".85"/>
    <circle id="tlU-R" cx="0" cy="-14" r="6" fill="#EF4444"/>
    <circle id="tlU-Y" cx="0" cy="0" r="6" fill="#FBBF24" opacity=".25"/>
    <circle id="tlU-G" cx="0" cy="14" r="6" fill="#22C55E" opacity=".25"/>
    <animate xlink:href="#tlU-G" attributeName="opacity" values=".25;1;.25" keyTimes="0;0.2;1" begin="3.2s" dur="2s" fill="freeze"/>
    <animate xlink:href="#tlU-R" attributeName="opacity" values="1;.25;1" keyTimes="0;0.2;1" begin="3.2s" dur="2s" fill="freeze"/>
  </g>

  <!-- Near UBB (≈6.3s) -->
  <g id="TL-UBB" transform="translate(780,560)">
    <rect x="-10" y="-26" width="20" height="52" rx="4" fill="#0F172A" opacity=".85"/>
    <circle id="tlB-R" cx="0" cy="-14" r="6" fill="#EF4444"/>
    <circle id="tlB-Y" cx="0" cy="0" r="6" fill="#FBBF24" opacity=".25"/>
    <circle id="tlB-G" cx="0" cy="14" r="6" fill="#22C55E" opacity=".25"/>
    <animate xlink:href="#tlB-G" attributeName="opacity" values=".25;1;.25" keyTimes="0;0.2;1" begin="6.3s" dur="2s" fill="freeze"/>
    <animate xlink:href="#tlB-R" attributeName="opacity" values="1;.25;1" keyTimes="0;0.2;1" begin="6.3s" dur="2s" fill="freeze"/>
  </g>

  <!-- Near Bastion (≈9.2s) -->
  <g id="TL-Bastion" transform="translate(1000,500)">
    <rect x="-10" y="-26" width="20" height="52" rx="4" fill="#0F172A" opacity=".85"/>
    <circle id="tlT-R" cx="0" cy="-14" r="6" fill="#EF4444"/>
    <circle id="tlT-Y" cx="0" cy="0" r="6" fill="#FBBF24" opacity=".25"/>
    <circle id="tlT-G" cx="0" cy="14" r="6" fill="#22C55E" opacity=".25"/>
    <animate xlink:href="#tlT-G" attributeName="opacity" values=".25;1;.25" keyTimes="0;0.2;1" begin="9.2s" dur="2s" fill="freeze"/>
    <animate xlink:href="#tlT-R" attributeName="opacity" values="1;.25;1" keyTimes="0;0.2;1" begin="9.2s" dur="2s" fill="freeze"/>
  </g>

  <!-- Ambulance (moves along route once; browser animation) -->
  <g id="Ambulance">
    <g id="AmbBody">
      <rect x="-28" y="-16" width="64" height="32" rx="6" fill="#FFFFFF" stroke="#1D4ED8" stroke-width="2"/>
      <rect x="10" y="-26" width="26" height="18" rx="4" fill="#DBEAFE" stroke="#1D4ED8" stroke-width="2"/>
      <circle cx="-10" cy="20" r="9" fill="#1E3A8A"/>
      <circle cx="22" cy="20" r="9" fill="#1E3A8A"/>
      <rect x="-4" y="-10" width="18" height="6" fill="#EF4444"/>
      <rect x="0" y="-14" width="10" height="14" fill="#F87171" filter="url(#softGlow)" opacity="0.7"/>
      <path d="M-1 -7 h4 v-4 h6 v4 h4 v6 h-4 v4 h-6 v-4 h-4z" fill="#FFFFFF"/>
    </g>

    <animateMotion dur="12s" fill="freeze" rotate="auto">
      <mpath xlink:href="#routePath"/>
    </animateMotion>
  </g>

  <!-- Info chip -->
  <g transform="translate(40,40)" class="ui">
    <rect width="420" height="84" rx="18" class="chip"/>
    <text x="20" y="34" style="font-size:22px; fill:#FFFFFF">Ambulance #A2</text>
    <text x="20" y="62" class="chip-sub">ETA 3 min • Green-wave route enabled</text>
  </g>
</svg>
